(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-message-chat"],{"097f":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");i("d81d"),i("26e9"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("2909")),s=n(i("5530")),r=n(i("e5c9")),d=n(i("a912")),c=n(i("d89e")),l={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:110,mitemHeight:0},isAnimation:!1,scrollTop:0,showEoji:!1,focus:!1,inputValue:"",pageShow:!1,msgList:[],avatar:"",toId:"",toUserId:"",page:1,isMore:!0,isGetMore:!1}},components:{chatInput:r.default,messageShow:d.default,Emoji:c.default},onShow:function(){var e=this;uni.sendSocketMessage({data:JSON.stringify({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})}),uni.sendSocketMessage({data:JSON.stringify({type:"history",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})}),uni.onSocketMessage((function(i){var n=JSON.parse(i.data);if("init"===n.type&&""!=uni.getStorageSync("token")){var o=n.data.client_id;uni.sendSocketMessage({data:JSON.stringify({type:"bind_id",id:uni.getStorageSync("token"),client_id:o})}),uni.setStorageSync("client_id",o)}if("say"===n.type){t.log("消息say触发");var s=n;t.log(n),s.data.to_headimgurl=s.data.fromid===uni.getStorageSync("token")?s.data.to_headimgurl:s.data.from_headimgurl,s.data.message=a.generateRichTextNode(s.data.message,s.data.message_type),s.data.userType=s.data.fromid===uni.getStorageSync("token")?"customer":"home",s.data.fromid==e.toId&&s.data.toid==uni.getStorageSync("token")&&e.msgList.push(s.data),e.$nextTick((function(){setTimeout((function(){e.scrollToBottom()}),50)})),t.log(s);var r=getCurrentPages();r[r.length-1];uni.vibrateLong({success:function(){t.log("success")}})}if("history"===n.type){var d=n.data.reverse();e.msgList=d.map((function(t){return t.to_headimgurl=t.fromid===uni.getStorageSync("token")?t.to_headimgurl:t.from_headimgurl,t.message=a.generateRichTextNode(t.message,t.message_type),t.userType=t.fromid===uni.getStorageSync("token")?"customer":"home",t})),e.$nextTick().then((function(){setTimeout((function(){e.scrollToBottom()}),50)}))}}))},onLoad:function(t){this.$loading(),this.toId=t.toId;var e=JSON.parse(uni.getStorageSync("userInfo"));this.avatar=e.headimgurl?e.headimgurl:this.STATICURL+"images/logo.png",this.toUserId=this.toId;var i=uni.getSystemInfoSync();this.style.pageHeight=i.windowHeight,this.style.contentViewHeight=i.windowHeight-uni.getSystemInfoSync().screenWidth/750*100,this.$hideLoading(),this.pageShow=!0},onUnload:function(){uni.sendSocketMessage({data:JSON.stringify({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})})},onBackPress:function(){uni.sendSocketMessage({data:JSON.stringify({type:"readmsg",data:{fromid:uni.getStorageSync("token"),toid:this.toId}})})},methods:{sendMsg:function(e){var i=this;t.log("触发send"),t.log(JSON.stringify((0,s.default)({},e))),uni.sendSocketMessage({data:JSON.stringify((0,s.default)({},e))});var n=e;n.data.message=a.generateRichTextNode(n.data.message,n.data.message_type),this.msgList.push(n.data),setTimeout((function(){i.scrollToBottom()}),50)},getMore:function(){var e=this;if(!this.isMore)return uni.stopPullDownRefresh(),!1;this.loading=!0,this.$http.getChatMsglist({page:this.page+1,toid:this.toId}).then((function(i){if(t.log(i),e.loading=!1,200===i.status)if(i.data.length){var n=i.data.reverse(),s=[];s=n.map((function(t){return t.to_headimgurl=t.fromid===uni.getStorageSync("token")?t.to_headimgurl:t.from_headimgurl,t.message=a.generateRichTextNode(t.message,t.message_type),t.userType=t.fromid===uni.getStorageSync("token")?"customer":"home",t})),e.isGetMore=!0,e.$nextTick().then((function(){var t;(t=e.msgList).unshift.apply(t,(0,o.default)(s)),e.page=e.page+1,uni.stopPullDownRefresh(),e.$nextTick().then((function(){e.isGetMore=!1}))}))}else uni.stopPullDownRefresh(),e.isMore=!1;else t.log(242),e.$toast(i.message),uni.stopPullDownRefresh()})).catch((function(){uni.stopPullDownRefresh()}))},onShowEmoji:function(t,e){var i=this;t?(this.showEoji=!1,this.focus=!0):(uni.hideKeyboard(),setTimeout((function(){i.showEoji=!0,i.focus=!1}),300))},hideKeyboard:function(){this.showEoji=!1,uni.hideKeyboard()},updataVal:function(t){this.inputValue=t},onUpload:function(){var t=this;this.showEoji=!1,a.chooseImg().then((function(e){t.$loading("上传中"),uni.uploadFile({url:t.$baseUrl+"api/Common/uploadPic",filePath:e.tempFilePaths[0],formData:t.$http.returnCommonParams("api/Common/uploadPic","chat_message"),name:"file",success:function(i){var a=JSON.parse(i.data);200===a.status?uni.getImageInfo({src:e.tempFilePaths[0],success:function(e){var i=0,n=0;e.width>400?(i=uni.upx2px(400),n=uni.upx2px(e.height*(400/e.width))):(i=uni.upx2px(e.width),n=uni.upx2px(e.height));var o={type:"say",data:{userType:"customer",fromid:uni.getStorageSync("token"),toid:t.toUserId,message:a.data.full_path,message_type:"img",width:i,height:n}};t.$hideLoading(),t.sendMsg(o)}}):t.$toast(a.mess)},fail:function(e){t.$hideLoading()}})}))},getInputMessage:function(t){var e={type:"say",data:{userType:"customer",fromid:uni.getStorageSync("token"),toid:this.toUserId,message:t.content,message_type:"text"}};this.sendMsg(e),this.showEoji=!1,this.inputValue=""},scrollToBottom:function(){uni.pageScrollTo({scrollTop:2e4,duration:100})}},onPullDownRefresh:function(){this.getMore()}};e.default=l}).call(this,i("5a52")["default"],i("dbd7"))},1385:function(t,e,i){"use strict";i.r(e);var a=i("5479"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},3695:function(t,e,i){var a=i("e995");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6738548b",a,!0,{sourceMap:!1,shadowMode:!1})},"3ec3":function(t,e,i){"use strict";i.r(e);var a=i("097f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},5065:function(t,e,i){var a=i("a591");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("fc981ad2",a,!0,{sourceMap:!1,shadowMode:!1})},5479:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:["message","num","avatar"],data:function(){return{from_headimgurl:this.message.from_headimgurl}},onLoad:function(){},methods:{preview:function(t){uni.previewImage({current:0,urls:[t]})}}};e.default=a},"78d0":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-20a80196]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-20a80196]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-20a80196]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-20a80196]{font-size:%?24?%;color:#fff;line-height:%?24?%}.m-item[data-v-20a80196]{display:flex;flex-direction:row;padding-top:%?40?%}.m-left[data-v-20a80196]{display:flex;width:%?120?%;justify-content:center;align-items:flex-start}.m-content[data-v-20a80196]{display:flex;flex:1;flex-direction:column;justify-content:center;font-size:%?28?%;color:#333;word-break:break-all}.m-content uni-image[data-v-20a80196]{max-width:%?400?%}.m-right[data-v-20a80196]{display:flex;width:%?120?%;justify-content:center;align-items:flex-start}.head_icon[data-v-20a80196]{width:%?80?%;height:%?80?%;border-radius:50%}.m-content-head[data-v-20a80196]{position:relative}.m-content-head-right[data-v-20a80196]{display:flex;justify-content:flex-end}.m-content-head-home[data-v-20a80196]{position:relative;text-align:left;background:#fff;border-radius:%?16?%;padding:%?20?%;color:#333}.m-content-head-home[data-v-20a80196]:before{position:absolute;left:%?-26?%;top:%?26?%;width:0;height:0;border:%?15?% solid transparent;border-right:%?15?% solid #fff;content:" "}.m-content-head-customer[data-v-20a80196]{background:#fff;border-radius:%?16?%;font-size:%?28?%;color:#333;padding:%?20?%;text-align:left}.m-content__left[data-v-20a80196]{flex:inherit;max-width:%?510?%}.gift-text[data-v-20a80196]{display:block;margin-bottom:%?20?%;text-align:center;font-size:%?24?%;color:#f69a30}.m-content-head-customer[data-v-20a80196]:after{position:absolute;top:%?26?%;right:%?-26?%;width:0;height:0;border:%?15?% solid transparent;border-left:%?15?% solid #fff;content:" "}.msg-emoji[data-v-20a80196]{position:relative;top:%?-2?%;width:%?50?%;height:%?50?%;vertical-align:middle}.msg-img[data-v-20a80196]{position:relative;padding:0 0;background:transparent!important;border-radius:none}.msg-img[data-v-20a80196]::after, .msg-img[data-v-20a80196]::before{display:none}.msg-img uni-image[data-v-20a80196]{display:block;position:relative;margin-bottom:%?20?%;border-radius:%?8?%}.msg-img uni-image[data-v-20a80196]:last-child{margin-bottom:0!important}',""]),t.exports=e},7952:function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("baa5"),i("d81d"),i("fb6a"),i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2909")),o=a(i("ca9db")),s=a(i("e5c9")),r={data:function(){return{localAlbumImages:["/images/album-emoji.png"],albumArr:[],currentAlbum:"emoji",emojiList:{},currentAlbumKeys:[],content:""}},props:["isShow","inputValue","type"],components:{chatInput:s.default},mounted:function(){var t=this.splitAlbumKeys(Object.keys(o.default.emojiList[this.currentAlbum]),"emoji"==this.currentAlbum?23:10);this.currentAlbumKeys=t,this.albumArr=o.default.albumArr,this.emojiList=o.default.emojiList,this.content=this.inputValue},methods:{splitAlbumKeys:function(t,e,i){var a=e||23,o=[],s=Math.ceil(t.length/a),r=0;if(1==s)o=[(0,n.default)(t)];else{for(var d=1;d<s;d++){var c=[];c=(0,n.default)(t.slice(r,d*a)),r=d*a,o.push(c)}o.push((0,n.default)(t.slice(a*(s-1),t.length)))}return"emoji"!=i&&"emoji"!=this.currentAlbum||o.map((function(t,e){e!=o.length-1&&t.push("[删除]")})),o},sendMessge:function(t){if(!this.content)return!1;this.$emit("send-message",{type:"text",content:this.content}),this.content=""},hideShowEmoji:function(){this.$emit("show-emoji",1,this.content),this.$emit("updata-val",this.content)},emojiTap:function(t){if("[删除]"===t)return!!this.content&&(this.content=this.content.substr(0,this.content.lastIndexOf("face")),!1);this.content="".concat(this.content).concat(t)},upload:function(){this.$emit("on-upload")}},watch:{isShow:function(){this.content=this.inputValue}}};e.default=r},"8c9c":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoji",class:{show:t.isShow}},[i("div",{staticClass:"input-wrap"},[i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-left"},[i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload.apply(void 0,arguments)}}},[t._v("")]),i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideShowEmoji.apply(void 0,arguments)}}},[t._v("")])]),i("div",{staticClass:"footer-center"},[i("div",{staticClass:"input-text",attrs:{placeholder:"请输入消息",type:"text"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideShowEmoji.apply(void 0,arguments)}}},[t._v(t._s(t.content))])]),i("div",{staticClass:"footer-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}}},[t._v("发送")])])]),i("v-uni-swiper",{staticClass:"emoji-content-swiper",attrs:{"indicator-dots":!0}},[t._l(t.currentAlbumKeys,(function(e,a){return a<4?[i("v-uni-swiper-item",t._l(e,(function(e,a){return i("v-uni-view",{key:a,staticClass:"emoji-content-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.emojiTap(e)}}},[i("v-uni-image",{class:["emoji"==t.currentAlbum?"emoji-content-img-emoji":"emoji-content-img-other"],attrs:{src:t.emojiList[t.currentAlbum][e].img}})],1)})),1)]:t._e()}))],2)],1)},o=[]},"98f7":function(t,e,i){"use strict";i.r(e);var a=i("7952"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},a591:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-18ead096]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-18ead096]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-18ead096]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-18ead096]{font-size:%?24?%;color:#fff;line-height:%?24?%}.footer[data-v-18ead096]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;padding:0 %?30?%;box-shadow:0 0 %?2?% rgba(0,0,0,.16);overflow:hidden;box-sizing:border-box;background:#fff}.footer-left[data-v-18ead096]{display:flex;justify-content:center;align-items:center}.footer-left .face[data-v-18ead096]{width:%?64?%;height:%?64?%}.footer-left .album[data-v-18ead096]{width:%?68?%;height:%?55?%}.footer-left i[data-v-18ead096]{font-size:%?60?%;color:#333;padding-right:%?30?%}.footer-left i[data-v-18ead096]:last-child{position:relative;top:%?3?%;padding-right:0}.footer-right[data-v-18ead096]{font-size:%?34?%;color:#333}.footer-center[data-v-18ead096]{flex:1;height:%?72?%;margin:0 %?16?%}.footer-center .input-text[data-v-18ead096]{height:%?72?%;background:#e9e9e9;overflow:hidden;padding:0 %?36?%;border-radius:%?36?%;font-size:%?28?%}',""]),t.exports=e},a912:function(t,e,i){"use strict";i.r(e);var a=i("fbbf"),n=i("1385");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d3aa");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"20a80196",null,!1,a["a"],s);e["default"]=d.exports},b24a:function(t,e,i){"use strict";var a=i("5065"),n=i.n(a);n.a},c2f4:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-column chat"},[t.pageShow?i("div",[i("v-uni-view",{staticClass:"content",attrs:{id:"content"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideKeyboard.apply(void 0,arguments)}}},[i("div",{attrs:{id:"scrollview"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMore,expression:"!isMore"}],staticClass:"loading no-more"},[t._v("没有更多了")]),t._l(t.msgList,(function(e,a){return i("message-show",{key:a,attrs:{avatar:t.avatar,message:e}})})),i("v-uni-view",{attrs:{id:"bottom"}})],2)]),t.showEoji?i("Emoji",{attrs:{"input-value":t.inputValue,isShow:t.showEoji},on:{"updata-val":function(e){arguments[0]=e=t.$handleEvent(e),t.updataVal.apply(void 0,arguments)},"on-upload":function(e){arguments[0]=e=t.$handleEvent(e),t.onUpload.apply(void 0,arguments)},"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},"show-emoji":function(e){arguments[0]=e=t.$handleEvent(e),t.onShowEmoji.apply(void 0,arguments)}}}):t._e(),i("v-uni-view",{staticClass:"chat-footer"},[i("chat-input",{attrs:{focus:t.focus,"input-value":t.inputValue,isShow:t.showEoji},on:{"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},"updata-val":function(e){arguments[0]=e=t.$handleEvent(e),t.updataVal.apply(void 0,arguments)},"on-upload":function(e){arguments[0]=e=t.$handleEvent(e),t.onUpload.apply(void 0,arguments)},"show-emoji":function(e){arguments[0]=e=t.$handleEvent(e),t.onShowEmoji.apply(void 0,arguments)}}})],1)],1):t._e()])},o=[]},d3aa:function(t,e,i){"use strict";var a=i("f47b"),n=i.n(a);n.a},d89e:function(t,e,i){"use strict";i.r(e);var a=i("8c9c"),n=i("98f7");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("fdff");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"4886e2e6",null,!1,a["a"],s);e["default"]=d.exports},e40e:function(t,e,i){"use strict";i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"chat-input",data:function(){return{val:""}},props:["focus","inputValue","isShow"],methods:{sendMessge:function(){""==this.val.trim()?this.val="":(this.$emit("send-message",{type:"text",content:this.val}),this.val="",uni.hideKeyboard())},onTap:function(){this.$emit("show-emoji"),this.$emit("updata-val",this.val)},uploadImg:function(){this.$emit("on-upload")}},watch:{isShow:function(t){this.val=this.inputValue}}};e.default=a},e5c9:function(t,e,i){"use strict";i.r(e);var a=i("ea23"),n=i("f159");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("b24a");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"18ead096",null,!1,a["a"],s);e["default"]=d.exports},e6d3:function(t,e,i){var a=i("fc9a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("7264d91c",a,!0,{sourceMap:!1,shadowMode:!1})},e995:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-4886e2e6]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-4886e2e6]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-4886e2e6]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-4886e2e6]{font-size:%?24?%;color:#fff;line-height:%?24?%}.footer[data-v-4886e2e6]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;padding:0 %?30?%;box-shadow:0 0 %?2?% rgba(0,0,0,.16);overflow:hidden;box-sizing:border-box;background:#fff}.footer-left[data-v-4886e2e6]{display:flex;justify-content:center;align-items:center}.footer-left .face[data-v-4886e2e6]{width:%?64?%;height:%?64?%}.footer-left .album[data-v-4886e2e6]{width:%?68?%;height:%?55?%}.footer-left i[data-v-4886e2e6]{font-size:%?60?%;color:#333;padding-right:%?26?%}.footer-left i[data-v-4886e2e6]:last-child{position:relative;top:%?3?%;padding-right:%?0?%}.footer-right[data-v-4886e2e6]{font-size:%?34?%;color:#333}.footer-center[data-v-4886e2e6]{flex:1;height:%?70?%;margin:0 %?20?%}.footer-center .input-text[data-v-4886e2e6]{height:%?70?%;line-height:%?70?%;background:#fff;border:solid %?1?% #d2d2d2;overflow:hidden;padding:0 %?20?%;border-radius:%?30?%;font-size:%?28?%}.emoji[data-v-4886e2e6]{position:fixed;bottom:0;left:0;z-index:99;width:100%;background:#fff;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.emoji .emoji-content-swiper[data-v-4886e2e6]{width:100%;height:%?390?%}.emoji .input-wrap[data-v-4886e2e6]{height:%?110?%}.show[data-v-4886e2e6]{-webkit-transform:translateZ(0);transform:translateZ(0)}\n/*内容  */.emoji-content[data-v-4886e2e6]{width:100%;height:%?400?%;\n  /* padding-top: 30rpx; */padding-left:%?20?%;box-sizing:border-box}.emoji-content-item[data-v-4886e2e6]{display:inline-block;padding:%?20?%}.emoji-content-img-emoji[data-v-4886e2e6]{width:%?50?%;height:%?50?%}.emoji-content-img-other[data-v-4886e2e6]{width:%?100?%;height:%?100?%}\n/*底部类别  */.emoji-album[data-v-4886e2e6]{width:100%;height:%?70?%;border:%?2?% solid #999;box-sizing:border-box;background-color:#fff}.emoji-album-left[data-v-4886e2e6]{display:inline-block;height:100%}.emoji-album-left-img[data-v-4886e2e6]{width:%?70?%;height:100%;padding:%?8?% %?10?%;box-sizing:border-box;border-right:%?2?% soild #999}.emoji-send[data-v-4886e2e6]{width:%?80?%;height:100%;line-height:%?70?%;background-color:#0091e4;text-align:center;float:right;color:#fff}.album-active[data-v-4886e2e6]{background-color:#aaa}',""]),t.exports=e},ea23:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-left"},[i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadImg.apply(void 0,arguments)}}},[t._v("")]),i("i",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[t._v("")])]),i("div",{staticClass:"footer-center"},[i("v-uni-input",{staticClass:"input-text",attrs:{focus:t.focus,placeholder:"请输入您要咨询的问题",type:"text","confirm-type":"send"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}})],1)])},o=[]},f159:function(t,e,i){"use strict";i.r(e);var a=i("e40e"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},f47b:function(t,e,i){var a=i("78d0");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6242ef74",a,!0,{sourceMap:!1,shadowMode:!1})},f55d:function(t,e,i){"use strict";var a=i("e6d3"),n=i.n(a);n.a},fa45:function(t,e,i){"use strict";i.r(e);var a=i("c2f4"),n=i("3ec3");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("f55d");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"8ef122ac",null,!1,a["a"],s);e["default"]=d.exports},fbbf:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-uni-view",{staticClass:"m-item",attrs:{id:"message"+t.num}},[i("v-uni-view",{staticClass:"m-left"},["home"===t.message.userType?i("v-uni-image",{staticClass:"head_icon",attrs:{src:t.message.to_headimgurl}}):t._e()],1),i("v-uni-view",{staticClass:"m-content",class:["customer"===t.message.userType?"":"m-content__left"]},["home"===t.message.userType?i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-left":"home"===t.message.userType}},["img"===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{style:{width:t.message.width+"px",height:t.message.height+"px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}})],1):t._e(),3===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{staticStyle:{width:"150px",height:"150px","margin-bottom":"6px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}}),i("span",{staticClass:"gift-text"},[t._v("礼物")])],1):t._e(),"text"===t.message.message_type?i("v-uni-view",{class:"m-content-head-"+t.message.userType},[t._l(t.message.message,(function(e,a){return[["emoji"===e.type?i("v-uni-image",{staticClass:"msg-emoji",attrs:{src:e.content}}):t._e(),"text"===e.type?i("v-uni-text",[t._v(t._s(e.content))]):t._e()]]}))],2):t._e()],1):t._e(),"customer"===t.message.userType?i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"===t.message.userType}},["img"===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{style:{width:t.message.width+"px",height:t.message.height+"px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}})],1):t._e(),3===t.message.message_type?i("v-uni-view",{staticClass:"msg-img",class:"m-content-head-"+t.message.userType},[i("v-uni-image",{staticStyle:{width:"150px",height:"150px","margin-bottom":"6px"},attrs:{src:t.message.message},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(t.message.message)}}}),i("span",{staticClass:"gift-text"},[t._v("礼物")])],1):t._e(),"text"===t.message.message_type?i("v-uni-view",{class:"m-content-head-"+t.message.userType},[t._l(t.message.message,(function(e,a){return[["emoji"===e.type?i("v-uni-image",{staticClass:"msg-emoji",attrs:{src:e.content}}):t._e(),"text"===e.type?i("v-uni-text",[t._v(t._s(e.content))]):t._e()]]}))],2):t._e()],1):t._e()],1),i("v-uni-view",{staticClass:"m-right"},["customer"==t.message.userType?i("v-uni-image",{staticClass:"head_icon",attrs:{src:t.avatar}}):t._e()],1)],1)],1)},o=[]},fc9a:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n  * @Description: WoShop\n  * @Author: Parker\n  * @Copyright: 武汉一一零七科技有限公司©版权所有\n  * @Link: www.wo-shop.net\n  * @Contact: QQ:2487937004\n  * =======================================================================================\n  * 这里是uni-app内置的常用样式变量\n  * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n  * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n  *\n */\n/**\n  * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n  *\n  * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:webfont;font-display:swap;src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot);\n  /* IE9*/src:url(//at.alicdn.com/t/webfont_li5p20ilokm.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff2) format("woff2"),url(//at.alicdn.com/t/webfont_li5p20ilokm.woff) format("woff"),url(//at.alicdn.com/t/webfont_li5p20ilokm.ttf) format("truetype"),url(//at.alicdn.com/t/webfont_li5p20ilokm.svg#Alibaba-PuHuiTi-Regular) format("svg")\n  /* iOS 4.1- */}.textEllipsis[data-v-8ef122ac]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.liveStatus[data-v-8ef122ac]{position:absolute;top:%?8?%;left:%?10?%;z-index:99;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;border-radius:100px;padding-right:%?16?%}.liveAn[data-v-8ef122ac]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;background-image:linear-gradient(90deg,#ffa468,#fa3f3f);width:%?28?%;height:%?24?%;border-radius:100px;padding:%?4?% %?8?%;margin-right:%?8?%;border-top-right-radius:%?20?%}.seeNum[data-v-8ef122ac]{font-size:%?24?%;color:#fff;line-height:%?24?%}.no-more[data-v-8ef122ac]{margin-top:%?10?%;text-algin:center}.tip[data-v-8ef122ac]{position:fixed;top:%?118?%;left:%?30?%;z-index:100;width:%?690?%;height:%?217?%;padding:%?22?% %?30?% 0 %?30?%;background:#fff;color:#999;font-size:%?26?%}.tip .tip-title[data-v-8ef122ac]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?10?%}.tip .tip-title i[data-v-8ef122ac]{color:#999;padding-left:%?20?%}.tip .tip-title h2[data-v-8ef122ac]{font-size:%?34?%;color:#333}.tip span[data-v-8ef122ac]{color:#f23333;font-size:%?26?%;line-height:1.4}.notice[data-v-8ef122ac]{display:flex;align-items:center;position:fixed;top:0;width:100%;height:%?88?%;padding:0 %?30?%;font-size:%?24?%;background:#fff;color:#999;z-index:100}.notice uni-image[data-v-8ef122ac]{width:%?30?%;height:%?30?%;padding-right:%?6?%}.gift-btn[data-v-8ef122ac]{bottom:%?200?%}.chat[data-v-8ef122ac]{min-height:100%;background:#f4f4f4}.chat > div[data-v-8ef122ac]{min-height:100%;height:100%}.chat .active[data-v-8ef122ac]{padding-top:0!important}.chat .content[data-v-8ef122ac]{height:auto;padding-bottom:%?110?%;background:#f4f4f4}.chat .chat-footer[data-v-8ef122ac]{position:fixed;width:100%;height:%?110?%;left:%?0?%;bottom:%?0?%}.chat #bottom[data-v-8ef122ac]{padding-bottom:%?20?%}',""]),t.exports=e},fdff:function(t,e,i){"use strict";var a=i("3695"),n=i.n(a);n.a}}]);